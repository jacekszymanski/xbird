<HTML>
<BODY BGCOLOR="white">
<PRE>
<FONT color="green">001</FONT>    /*<a name="line.1"></a>
<FONT color="green">002</FONT>     * @(#)$Id: Primes.java 3619 2008-03-26 07:23:03Z yui $<a name="line.2"></a>
<FONT color="green">003</FONT>     *<a name="line.3"></a>
<FONT color="green">004</FONT>     * Copyright 2006-2008 Makoto YUI<a name="line.4"></a>
<FONT color="green">005</FONT>     *<a name="line.5"></a>
<FONT color="green">006</FONT>     * Licensed under the Apache License, Version 2.0 (the "License");<a name="line.6"></a>
<FONT color="green">007</FONT>     * you may not use this file except in compliance with the License.<a name="line.7"></a>
<FONT color="green">008</FONT>     * You may obtain a copy of the License at<a name="line.8"></a>
<FONT color="green">009</FONT>     *<a name="line.9"></a>
<FONT color="green">010</FONT>     *     http://www.apache.org/licenses/LICENSE-2.0<a name="line.10"></a>
<FONT color="green">011</FONT>     *<a name="line.11"></a>
<FONT color="green">012</FONT>     * Unless required by applicable law or agreed to in writing, software<a name="line.12"></a>
<FONT color="green">013</FONT>     * distributed under the License is distributed on an "AS IS" BASIS,<a name="line.13"></a>
<FONT color="green">014</FONT>     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<a name="line.14"></a>
<FONT color="green">015</FONT>     * See the License for the specific language governing permissions and<a name="line.15"></a>
<FONT color="green">016</FONT>     * limitations under the License.<a name="line.16"></a>
<FONT color="green">017</FONT>     * <a name="line.17"></a>
<FONT color="green">018</FONT>     * Contributors:<a name="line.18"></a>
<FONT color="green">019</FONT>     *     Makoto YUI - initial implementation<a name="line.19"></a>
<FONT color="green">020</FONT>     */<a name="line.20"></a>
<FONT color="green">021</FONT>    package xbird.util;<a name="line.21"></a>
<FONT color="green">022</FONT>    <a name="line.22"></a>
<FONT color="green">023</FONT>    import java.util.Arrays;<a name="line.23"></a>
<FONT color="green">024</FONT>    <a name="line.24"></a>
<FONT color="green">025</FONT>    /**<a name="line.25"></a>
<FONT color="green">026</FONT>     * <a name="line.26"></a>
<FONT color="green">027</FONT>     * &lt;DIV lang="en"&gt;&lt;/DIV&gt;<a name="line.27"></a>
<FONT color="green">028</FONT>     * &lt;DIV lang="ja"&gt;&lt;/DIV&gt;<a name="line.28"></a>
<FONT color="green">029</FONT>     * <a name="line.29"></a>
<FONT color="green">030</FONT>     * @author Makoto YUI (yuin405+xbird@gmail.com)<a name="line.30"></a>
<FONT color="green">031</FONT>     */<a name="line.31"></a>
<FONT color="green">032</FONT>    public final class Primes {<a name="line.32"></a>
<FONT color="green">033</FONT>    <a name="line.33"></a>
<FONT color="green">034</FONT>        static final int[] PRIMES = { 3, 5, 7, 13, 19, 31, 43, 61, 73, 89, 103, 109, 139, 151, 181,<a name="line.34"></a>
<FONT color="green">035</FONT>                193, 199, 229, 241, 271, 283, 313, 349, 421, 433, 463, 523, 571, 601, 619, 661, 823,<a name="line.35"></a>
<FONT color="green">036</FONT>                859, 883, 1021, 1063, 1093, 1153, 1231, 1321, 1429, 1489, 1621, 1699, 1789, 1873, 1951,<a name="line.36"></a>
<FONT color="green">037</FONT>                2029, 2131, 2143, 2311, 2383, 2593, 2731, 2803, 3001, 3121, 3259, 3391, 3583, 3673,<a name="line.37"></a>
<FONT color="green">038</FONT>                3919, 4093, 4273, 4423, 4651, 4801, 5023, 5281, 5521, 5743, 5881, 6301, 6571, 6871,<a name="line.38"></a>
<FONT color="green">039</FONT>                7129, 7489, 7759, 8089, 8539, 8863, 9283, 9721, 10141, 10531, 11071, 11551, 12073,<a name="line.39"></a>
<FONT color="green">040</FONT>                12613, 13009, 13759, 14323, 14869, 15649, 16363, 17029, 17839, 18541, 19471, 20233,<a name="line.40"></a>
<FONT color="green">041</FONT>                21193, 22159, 23059, 24181, 25171, 26263, 27541, 28753, 30013, 31321, 32719, 34213,<a name="line.41"></a>
<FONT color="green">042</FONT>                35731, 37309, 38923, 40639, 42463, 44281, 46309, 48313, 50461, 52711, 55051, 57529,<a name="line.42"></a>
<FONT color="green">043</FONT>                60091, 62299, 65521, 68281, 71413, 74611, 77713, 81373, 84979, 88663, 92671, 96739,<a name="line.43"></a>
<FONT color="green">044</FONT>                100801, 105529, 109849, 115021, 120079, 125509, 131011, 136861, 142873, 149251, 155863,<a name="line.44"></a>
<FONT color="green">045</FONT>                162751, 169891, 177433, 185071, 193381, 202129, 211063, 220021, 229981, 240349, 250969,<a name="line.45"></a>
<FONT color="green">046</FONT>                262111, 273643, 285841, 298411, 311713, 325543, 339841, 355009, 370663, 386989, 404269,<a name="line.46"></a>
<FONT color="green">047</FONT>                422113, 440809, 460081, 480463, 501829, 524221, 547399, 571603, 596929, 623353, 651019,<a name="line.47"></a>
<FONT color="green">048</FONT>                679909, 709741, 741343, 774133, 808441, 844201, 881539, 920743, 961531, 1004119,<a name="line.48"></a>
<FONT color="green">049</FONT>                1048573, 1094923, 1143283, 1193911, 1246963, 1302181, 1359733, 1420039, 1482853,<a name="line.49"></a>
<FONT color="green">050</FONT>                1548541, 1616899, 1688413, 1763431, 1841293, 1922773, 2008081, 2097133, 2189989,<a name="line.50"></a>
<FONT color="green">051</FONT>                2286883, 2388163, 2493853, 2604013, 2719669, 2840041, 2965603, 3097123, 3234241,<a name="line.51"></a>
<FONT color="green">052</FONT>                3377191, 3526933, 3682363, 3845983, 4016041, 4193803, 4379719, 4573873, 4776223,<a name="line.52"></a>
<FONT color="green">053</FONT>                4987891, 5208523, 5439223, 5680153, 5931313, 6194191, 6468463, 6754879, 7053331,<a name="line.53"></a>
<FONT color="green">054</FONT>                7366069, 7692343, 8032639, 8388451, 8759953, 9147661, 9552733, 9975193, 10417291,<a name="line.54"></a>
<FONT color="green">055</FONT>                10878619, 11360203, 11863153, 12387841, 12936529, 13509343, 14107801, 14732413,<a name="line.55"></a>
<FONT color="green">056</FONT>                15384673, 16065559, 16777141, 17519893, 18295633, 19105483, 19951231, 20834689,<a name="line.56"></a>
<FONT color="green">057</FONT>                21757291, 22720591, 23726449, 24776953, 25873963, 27018853, 28215619, 29464579,<a name="line.57"></a>
<FONT color="green">058</FONT>                30769093, 32131711, 33554011, 35039911, 36591211, 38211163, 39903121, 41669479,<a name="line.58"></a>
<FONT color="green">059</FONT>                43514521, 45441199, 47452879, 49553941, 51747991, 54039079, 56431513, 58930021,<a name="line.59"></a>
<FONT color="green">060</FONT>                61539091, 64263571, 67108669, 70079959, 73182409, 76422793, 79806229, 83339383,<a name="line.60"></a>
<FONT color="green">061</FONT>                87029053, 90881083, 94906249, 99108043, 103495879, 108077731, 112863013, 117860053,<a name="line.61"></a>
<FONT color="green">062</FONT>                123078019, 128526943, 134217439, 140159911, 146365159, 152845393, 159612601, 166679173,<a name="line.62"></a>
<FONT color="green">063</FONT>                174058849, 181765093, 189812341, 198216103, 206991601, 216156043, 225726379, 235720159,<a name="line.63"></a>
<FONT color="green">064</FONT>                246156271, 257054491, 268435009, 280319203, 292730833, 305691181, 319225021, 333358513,<a name="line.64"></a>
<FONT color="green">065</FONT>                348117151, 363529759, 379624279, 396432481, 413983771, 432312511, 451452613, 471440161,<a name="line.65"></a>
<FONT color="green">066</FONT>                492312523, 514109251, 536870839, 560640001, 585461743, 611382451, 638450569, 666717199,<a name="line.66"></a>
<FONT color="green">067</FONT>                696235363, 727060069, 759249643, 792864871, 827967631, 864625033, 902905501, 942880663,<a name="line.67"></a>
<FONT color="green">068</FONT>                984625531, 1028218189, 1073741719, 1121280091, 1170923713, 1222764841, 1276901371,<a name="line.68"></a>
<FONT color="green">069</FONT>                1333434301, 1392470281, 1454120779, 1518500173, 1585729993, 1655935399, 1729249999,<a name="line.69"></a>
<FONT color="green">070</FONT>                1805811253, 1885761133, 1969251079, 2056437379, 2147482951, Integer.MAX_VALUE };<a name="line.70"></a>
<FONT color="green">071</FONT>    <a name="line.71"></a>
<FONT color="green">072</FONT>        /**<a name="line.72"></a>
<FONT color="green">073</FONT>         * Returns from a static prime table the least prime that is greater <a name="line.73"></a>
<FONT color="green">074</FONT>         * than or equal to a specified value.<a name="line.74"></a>
<FONT color="green">075</FONT>         */<a name="line.75"></a>
<FONT color="green">076</FONT>        public static int findLeastPrimeNumber(int n) {<a name="line.76"></a>
<FONT color="green">077</FONT>            assert (n &gt;= 0) : n;<a name="line.77"></a>
<FONT color="green">078</FONT>            int idx = Arrays.binarySearch(PRIMES, n);<a name="line.78"></a>
<FONT color="green">079</FONT>            if(idx &lt; 0) {<a name="line.79"></a>
<FONT color="green">080</FONT>                idx = -idx - 1;<a name="line.80"></a>
<FONT color="green">081</FONT>                if(idx &gt;= PRIMES.length) {<a name="line.81"></a>
<FONT color="green">082</FONT>                    idx = PRIMES.length - 1;<a name="line.82"></a>
<FONT color="green">083</FONT>                }<a name="line.83"></a>
<FONT color="green">084</FONT>                return PRIMES[idx]; // if not found, use max prime (in this case 9973).<a name="line.84"></a>
<FONT color="green">085</FONT>            }<a name="line.85"></a>
<FONT color="green">086</FONT>            return PRIMES[idx];<a name="line.86"></a>
<FONT color="green">087</FONT>        }<a name="line.87"></a>
<FONT color="green">088</FONT>    }<a name="line.88"></a>




























































</PRE>
</BODY>
</HTML>
